## redis有序集合键底层实现之跳跃表

>跳跃表是一种性能可以和RBTree媲美的有序数据结构，而且实现起来比平衡树要简单许多。跳跃表弥补了链表查找性能的不足，它通过在每个节点中维持多个指向其他节点的指针，从而达到快速访问节点的目的。下面就跳跃表的几个特性介绍一下。

* 跳跃表的节点结构

 *  层，每个节点都有若干个层，每一层中有两个属性，前进指针和跨度，前进指针用于访问位于表尾方向的其他节点，而跨度记录了前进指针所指向节点和当前节点的距离。
 *  后退指针，指向当前节点的前一个节点，在从表尾到表头遍历时候会用到。
 *  分值，跳跃表中，各个节点按各自所保存的分值从小到大排列。
 *  成员对象，比如redis的有序集合键中保存的就是value

* 跳跃表的结构
 
 * header，指向跳跃表的表头结点
 * tail，指向跳跃表的表尾节点
 * level，记录目前跳跃表中，层数最大的那个节点的层数
 * length，记录跳跃表的长度

* 特性

 * 每个节点都有第一层，假设一个节点有第i层，那么一定有i-1层
 * 搜索的时候从表头节点的最高层开始
 * 跨度的作用是来计算排名，比如走了两步找到目标节点，第一个跨度2，第二个跨度3，那么rank就是5
 * 删除和查找相仿，先找到节点，再删除   
 * 时间复杂度 O（logN）